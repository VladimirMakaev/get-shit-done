---
phase: 05-user-interface
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - commands/gsd/settings.md
  - commands/gsd/set-profile.md
  - commands/gsd/new-project.md
autonomous: true

must_haves:
  truths:
    - "/gsd:settings shows Unlimited as first option in Model Profile selector"
    - "/gsd:set-profile accepts 'unlimited' as valid profile argument"
    - "/gsd:set-profile shows unlimited example with opus for all agents"
    - "/gsd:new-project offers Unlimited option in Model Profile question"
  artifacts:
    - path: "commands/gsd/settings.md"
      provides: "Unlimited option in AskUserQuestion"
      contains: "Unlimited"
    - path: "commands/gsd/set-profile.md"
      provides: "Unlimited validation and example"
      contains: "unlimited"
    - path: "commands/gsd/new-project.md"
      provides: "Unlimited option in workflow preferences"
      contains: "Unlimited"
  key_links:
    - from: "commands/gsd/set-profile.md"
      to: "validation logic"
      via: "array includes unlimited"
      pattern: '"unlimited".*"quality".*"balanced".*"budget"'
    - from: "commands/gsd/settings.md"
      to: "config template"
      via: "model_profile valid values"
      pattern: 'unlimited.*quality.*balanced.*budget'
---

<objective>
Add "Unlimited" model profile option to all GSD user-facing commands: settings, set-profile, and new-project.

Purpose: Users need UI access to the unlimited profile (Opus for all agents) that was added to lookup tables in Phases 1-3.

Output: All three command files updated with Unlimited option following established UI patterns.
</objective>

<execution_context>
@/Users/vmakaev/.claude/get-shit-done/workflows/execute-plan.md
@/Users/vmakaev/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-user-interface/05-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Unlimited to settings.md</name>
  <files>commands/gsd/settings.md</files>
  <action>
Update settings.md to add "Unlimited" as the FIRST option in the Model Profile selector:

1. **Lines 49-53 - Add Unlimited option as first in options array:**
   Before (line 49):
   ```javascript
   options: [
     { label: "Quality", description: "Opus everywhere except verification (highest cost)" },
   ```

   After:
   ```javascript
   options: [
     { label: "Unlimited", description: "Opus for all agents (maximum quality, highest cost)" },
     { label: "Quality", description: "Opus everywhere except verification (highest cost)" },
   ```

2. **Line 104 - Update config template to include unlimited:**
   Before:
   ```json
   "model_profile": "quality" | "balanced" | "budget",
   ```

   After:
   ```json
   "model_profile": "unlimited" | "quality" | "balanced" | "budget",
   ```

3. **Line 129 - Update confirmation table to show unlimited:**
   Before:
   ```
   | Model Profile        | {quality/balanced/budget} |
   ```

   After:
   ```
   | Model Profile        | {unlimited/quality/balanced/budget} |
   ```

**Position rationale:** Unlimited goes FIRST to match tier order (highest to lowest) from lookup tables: unlimited | quality | balanced | budget.
  </action>
  <verify>Grep for "Unlimited" in settings.md confirms option exists. Grep for "unlimited" in config template confirms valid value.</verify>
  <done>settings.md shows Unlimited as first option with description "Opus for all agents (maximum quality, highest cost)", config template includes "unlimited" as valid value.</done>
</task>

<task type="auto">
  <name>Task 2: Add Unlimited to set-profile.md</name>
  <files>commands/gsd/set-profile.md</files>
  <action>
Update set-profile.md to accept "unlimited" as valid profile:

1. **Line 6 - Update frontmatter description:**
   Before:
   ```
   description: "Profile name: quality, balanced, or budget"
   ```

   After:
   ```
   description: "Profile name: unlimited, quality, balanced, or budget"
   ```

2. **Lines 14-20 - Add unlimited row to profiles table (FIRST row after header):**
   Before:
   ```markdown
   <profiles>
   | Profile | Description |
   |---------|-------------|
   | **quality** | Opus everywhere except read-only verification |
   ```

   After:
   ```markdown
   <profiles>
   | Profile | Description |
   |---------|-------------|
   | **unlimited** | Opus for all agents without exception |
   | **quality** | Opus everywhere except read-only verification |
   ```

3. **Line 27 - Update validation array:**
   Before:
   ```
   if $ARGUMENTS.profile not in ["quality", "balanced", "budget"]:
   ```

   After:
   ```
   if $ARGUMENTS.profile not in ["unlimited", "quality", "balanced", "budget"]:
   ```

4. **Line 29 - Update error message:**
   Before:
   ```
   Valid profiles: quality, balanced, budget
   ```

   After:
   ```
   Valid profiles: unlimited, quality, balanced, budget
   ```

5. **After line 104 (after quality example, before </examples>) - Add unlimited example:**
   ```markdown
   **Switch to unlimited mode:**
   ```
   /gsd:set-profile unlimited

   ✓ Model profile set to: unlimited

   Agents will now use:
   | Agent | Model |
   |-------|-------|
   | gsd-planner | opus |
   | gsd-executor | opus |
   | gsd-verifier | opus |
   | ... | ... |
   ```
   ```

**Position rationale:** Unlimited goes FIRST in table and validation array to match tier order.
  </action>
  <verify>Grep for "unlimited" in validation array confirms acceptance. Grep for "Switch to unlimited mode" confirms example exists.</verify>
  <done>set-profile.md accepts "unlimited" in validation, shows unlimited in profiles table, has example showing opus for all agents.</done>
</task>

<task type="auto">
  <name>Task 3: Add Unlimited to new-project.md</name>
  <files>commands/gsd/new-project.md</files>
  <action>
Update new-project.md to offer "Unlimited" in Model Profile question:

1. **Lines 329-334 - Add Unlimited option (after Quality, before Budget):**
   Before:
   ```javascript
   options: [
     { label: "Balanced (Recommended)", description: "Sonnet for most agents — good quality/cost ratio" },
     { label: "Quality", description: "Opus for research/roadmap — higher cost, deeper analysis" },
     { label: "Budget", description: "Haiku where possible — fastest, lowest cost" }
   ]
   ```

   After:
   ```javascript
   options: [
     { label: "Balanced (Recommended)", description: "Sonnet for most agents — good quality/cost ratio" },
     { label: "Quality", description: "Opus for research/roadmap — higher cost, deeper analysis" },
     { label: "Unlimited", description: "Opus for all agents — maximum quality, highest cost" },
     { label: "Budget", description: "Haiku where possible — fastest, lowest cost" }
   ]
   ```

2. **Line 346 - Update config template to include unlimited:**
   Before:
   ```json
   "model_profile": "quality|balanced|budget",
   ```

   After:
   ```json
   "model_profile": "unlimited|quality|balanced|budget",
   ```

**Position rationale:** new-project.md keeps Balanced (Recommended) first since it's the default. Unlimited goes after Quality (next highest tier) and before Budget (lowest tier). This matches the existing UI convention in this file where recommended is first.
  </action>
  <verify>Grep for "Unlimited" in new-project.md confirms option exists. Grep for "unlimited" in config template confirms valid value.</verify>
  <done>new-project.md shows Unlimited option with description "Opus for all agents — maximum quality, highest cost", config template includes "unlimited" as valid value.</done>
</task>

</tasks>

<verification>
After all tasks complete, verify:

1. **settings.md:**
   ```bash
   grep -n "Unlimited" commands/gsd/settings.md
   grep -n '"unlimited"' commands/gsd/settings.md
   ```
   Expected: Unlimited option at line ~50, unlimited in config template at line ~104

2. **set-profile.md:**
   ```bash
   grep -n "unlimited" commands/gsd/set-profile.md
   ```
   Expected: Multiple matches - frontmatter, table, validation, error message, example

3. **new-project.md:**
   ```bash
   grep -n "Unlimited" commands/gsd/new-project.md
   grep -n "unlimited" commands/gsd/new-project.md
   ```
   Expected: Unlimited option at line ~331, unlimited in config template at line ~346
</verification>

<success_criteria>
1. /gsd:settings shows "Unlimited" as first option in Model Profile with description "Opus for all agents (maximum quality, highest cost)"
2. /gsd:set-profile:
   - Accepts "unlimited" argument without error
   - Shows unlimited in profiles table as first entry
   - Has example showing `/gsd:set-profile unlimited` with opus for all agents
3. /gsd:new-project shows "Unlimited" option in Model Profile question with "Opus for all agents — maximum quality, highest cost"
4. All config.json templates include "unlimited" as valid model_profile value
</success_criteria>

<output>
After completion, create `.planning/phases/05-user-interface/05-01-SUMMARY.md`
</output>
